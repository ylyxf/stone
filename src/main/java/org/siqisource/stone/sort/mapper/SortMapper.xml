<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.siqisource.stone.sort.mapper.SortMapper">

<select id="readBeforeSortNo" parameterType="map" resultType="int">
	SELECT sort_no  FROM  ${tableName} WHERE id = #{id}  
</select>

<update id="updateOldBrotherSortlNo" parameterType="map">
	UPDATE ${tableName}  SET 
	 	sort_no = sort_no+ #{step ,jdbcType=NUMERIC }
	<if test="condition.expressions != null ">
		<where>${condition.comboedExpressions}</where>
	</if>
</update>

<update id="updateSortNo" parameterType="map">
	UPDATE ${tableName}  SET 
	 	sort_no = #{sortNo ,jdbcType=NUMERIC }
	WHERE 
		id = #{id}
</update>
	
</mapper>